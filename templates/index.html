{% extends 'base.html'%}

{% block content %}

<body>
    
    <h1 id="indexTitle">Tax Payment Tracking System</h1>


    <div id="taxTableContainer">
        <table id="taxTable">
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Amount</th>
                    <th>Payment Date</th>
                    <th>Status</th>
                    <th>Due Date</th>
                    <th>Operations</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table body will be populated dynamically -->
            </tbody>
        </table>
    </div>

    <h2>Summary</h2>
    <label id="taxfield" for="taxRate">Enter Tax Rate (Enter in Decimal):</label>
    <input type="text" id="taxRateField" name="taxRate" required><br><br>
    <label id="duedatefield" for="summaryDueDate">Select Due Date:</label>
    <select id="summaryDueDate" name="summaryDueDate" onchange="updateSummaryTable()">
    </select><br><br>

  
   
    

    <div id="summaryTableContainer">
        <table id="summaryTable">
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Amount</th>
                    <th>Payment Date</th>
                    <th>Status</th>
                   <th></th>
                </tr>
            </thead>
            <tbody>
                <!-- Summary table body will be populated dynamically -->
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="4">Total Amount</td>
                    <td id="totalAmount">0.00</td>
                </tr>
                <tr>
                    <td colspan="4">Tax Rate:</td>
                    <td id="taxRate">0.00%</td>
                </tr>
                <tr>
                    <td colspan="4">Tax Due:</td>
                    <td id="taxDue">0.00</td>
                </tr>
            </tfoot>
        </table>
    </div>

<!-- Add a modal for editing -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeEditModal()">&times;</span>
        <h2>Edit Tax Record</h2>
        <form id="editForm">
            <input type="hidden" id="editId" name="id">
            <label for="editCompany">Company:</label>
            <input type="text" id="editCompany" name="company" required><br><br>
            <label for="editAmount">Amount:</label>
            <input type="number" id="editAmount" name="amount" required><br><br>
            <label for="editPaymentDate">Payment Date:</label>
            <input type="date" id="editPaymentDate" name="paymentDate" required><br><br>
            <label for="editStatus">Status:</label>
            <input type="text" id="editStatus" name="status" required><br><br>
            <!-- <label for="editDueDate">Due Date:</label>
            <select id="editDueDate" name="dueDate" required>
                <option value="January 15">January 15</option>
                <option value="April 15">April 15</option>
                <option value="June 15">June 15</option>
                <option value="September 15">September 15</option> -->
                <label for="editDueDate">Due Date:</label>
<select id="editDueDateSelect" name="dueDate" required>
   
            </select><br><br>
            <input id="saveButton" type="submit" value="Save">
        </form>
    </div>
</div>

</body>
{% endblock %}
</html>
